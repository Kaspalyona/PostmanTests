{
	"info": {
		"_postman_id": "6764b4d7-44bd-4042-be68-27df6737d79d",
		"name": "Click up. Goals",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_uid": "22516955-6764b4d7-44bd-4042-be68-27df6737d79d"
	},
	"item": [
		{
			"name": "Positive tests",
			"item": [
				{
					"name": "Get goals without parameters",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "77c6809a-d689-49dc-a2be-f2c62a136e0e",
								"exec": [
									"let responseData = pm.response.json()",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response have goals and folders as an array\", function(){",
									"    pm.expect(responseData).to.have.property('goals');",
									"    pm.expect(responseData.goals).to.be.an('array');",
									"    pm.expect(responseData).to.have.property('folders');",
									"    pm.expect(responseData.folders).to.be.an('array');",
									"});",
									"",
									"if (Array.isArray(responseData.goals) && responseData.goals.length > 0) {",
									"    responseData.goals.forEach((goal, index) => {",
									"        pm.test(`The goal with id ${goal.id} has all required fields with correct datatype`, function () {",
									"            pm.expect(goal).to.have.property('id').that.is.a('string');",
									"            pm.expect(goal).to.have.property('pretty_id').that.is.a('string');",
									"            pm.expect(goal).to.have.property('name').that.is.a('string');",
									"            pm.expect(goal).to.have.property('team_id').that.is.a('string');",
									"            pm.expect(goal).to.have.property('creator').that.is.a('number');",
									"            pm.expect(goal).to.have.property('owner').that.satisfy(value => typeof value === 'string' || value === null);",
									"            pm.expect(goal).to.have.property('color').that.is.a('string');",
									"            pm.expect(goal).to.have.property('date_created').that.is.a('string');",
									"            pm.expect(goal).to.have.property('start_date').that.satisfy(value => typeof value === 'string' || value === null);",
									"            pm.expect(goal).to.have.property('due_date').that.is.a('string');",
									"            pm.expect(goal).to.have.property('description').that.is.a('string');",
									"            pm.expect(goal).to.have.property('private').that.is.a('boolean');",
									"            pm.expect(goal).to.have.property('archived').that.is.a('boolean');",
									"            pm.expect(goal).to.have.property('multiple_owners').satisfy(value => typeof value === 'boolean' || value === null);",
									"            pm.expect(goal).to.have.property('editor_token').that.is.a('string');",
									"            pm.expect(goal).to.have.property('date_updated').that.is.a('string');",
									"            pm.expect(goal).to.have.property('last_update').that.is.a('string');",
									"            pm.expect(goal).to.have.property('folder_id').that.satisfy(value => typeof value === 'string' || value === null);",
									"            pm.expect(goal).to.have.property('pinned').that.is.a('boolean');",
									"            pm.expect(goal).to.have.property('owners').that.is.an('array');",
									"            pm.expect(goal).to.have.property('key_result_count').that.is.a('number');",
									"            pm.expect(goal).to.have.property('members').that.is.an('array');",
									"            pm.expect(goal).to.have.property('group_members').that.is.an('array');",
									"            pm.expect(goal).to.have.property('percent_completed').that.is.a('number');",
									"         });",
									"    });",
									"} else {",
									"    pm.test('No goals found or goals array is empty', function () {",
									"        pm.expect(responseData.goals).to.be.empty;",
									"    });",
									"}",
									"if (Array.isArray(responseData.folders) && responseData.folders.length > 0) {",
									"    responseData.folders.forEach((folder, index) => {",
									"        pm.test(`The folder with id ${folder.id} has all required fields with correct datatype`, function () {",
									"            pm.expect(folder).to.have.property('id').that.is.a('string');",
									"            pm.expect(folder).to.have.property('pretty_id').that.is.a('string');",
									"            pm.expect(folder).to.have.property('name').that.is.a('string');",
									"            pm.expect(folder).to.have.property('team_id').that.is.a('string');",
									"            pm.expect(folder).to.have.property('private').that.is.a('boolean');",
									"            pm.expect(folder).to.have.property('date_created').that.is.a('string');",
									"            pm.expect(folder).to.have.property('creator').that.is.a('number');",
									"            pm.expect(folder).to.have.property('goal_count').that.is.a('number');",
									"            pm.expect(folder).to.have.property('members').that.is.an('array');",
									"            pm.expect(folder).to.have.property('goals').that.is.a('array');",
									"         });",
									"    });",
									"} else {",
									"    pm.test('No folders found or folders array is empty', function () {",
									"        pm.expect(responseData.folders).to.be.empty;",
									"    });",
									"}",
									"",
									"",
									"var goals = responseData.goals[0];",
									"pm.collectionVariables.set(\"goal_id_click_up\", goals.id);",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "28adb865-4db5-4edd-b2bc-f361f92f2395",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "139cdb6e-b716-429b-bafc-47b40617ccf7",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{api_click_up}}/v2/team/{{team_id_click_up}}/goal",
							"host": [
								"{{api_click_up}}"
							],
							"path": [
								"v2",
								"team",
								"{{team_id_click_up}}",
								"goal"
							],
							"query": [
								{
									"key": "include_completed",
									"value": "true",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get goals included completed goals",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "bfaf3c87-0cc0-4215-a3e4-aead8006a5ca",
								"exec": [
									"let responseData = pm.response.json()",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response have goals and folders as an array\", function(){",
									"    pm.expect(responseData).to.have.property('goals');",
									"    pm.expect(responseData.goals).to.be.an('array');",
									"    pm.expect(responseData).to.have.property('folders');",
									"    pm.expect(responseData.folders).to.be.an('array');",
									"});",
									"",
									"// Перевірка, чи наявні всі поля в відповіді і чи вони мають правильний тип даних",
									"",
									"if (Array.isArray(responseData.goals) && responseData.goals.length > 0) {",
									"    responseData.goals.forEach((goal, index) => {",
									"        pm.test(`The goal with id ${goal.id} has all required fields with correct datatype`, function () {",
									"            pm.expect(goal).to.have.property('id').that.is.a('string');",
									"            pm.expect(goal).to.have.property('pretty_id').that.is.a('string');",
									"            pm.expect(goal).to.have.property('name').that.is.a('string');",
									"            pm.expect(goal).to.have.property('team_id').that.is.a('string');",
									"            pm.expect(goal).to.have.property('creator').that.is.a('number');",
									"            pm.expect(goal).to.have.property('owner').that.satisfy(value => typeof value === 'string' || value === null);",
									"            pm.expect(goal).to.have.property('color').that.is.a('string');",
									"            pm.expect(goal).to.have.property('date_created').that.is.a('string');",
									"            pm.expect(goal).to.have.property('start_date').that.satisfy(value => typeof value === 'string' || value === null);",
									"            pm.expect(goal).to.have.property('due_date').that.is.a('string');",
									"            pm.expect(goal).to.have.property('description').that.is.a('string');",
									"            pm.expect(goal).to.have.property('private').that.is.a('boolean');",
									"            pm.expect(goal).to.have.property('archived').that.is.a('boolean');",
									"            pm.expect(goal).to.have.property('multiple_owners').satisfy(value => typeof value === 'boolean' || value === null);",
									"            pm.expect(goal).to.have.property('editor_token').that.is.a('string');",
									"            pm.expect(goal).to.have.property('date_updated').that.is.a('string');",
									"            pm.expect(goal).to.have.property('last_update').that.is.a('string');",
									"            pm.expect(goal).to.have.property('folder_id').that.satisfy(value => typeof value === 'string' || value === null);",
									"            pm.expect(goal).to.have.property('pinned').that.is.a('boolean');",
									"            pm.expect(goal).to.have.property('owners').that.is.an('array');",
									"            pm.expect(goal).to.have.property('key_result_count').that.is.a('number');",
									"            pm.expect(goal).to.have.property('members').that.is.an('array');",
									"            pm.expect(goal).to.have.property('group_members').that.is.an('array');",
									"            pm.expect(goal).to.have.property('percent_completed').that.is.a('number');",
									"         });",
									"    });",
									"} else {",
									"    pm.test('No goals found or goals array is empty', function () {",
									"        pm.expect(responseData.goals).to.be.empty;",
									"    });",
									"}",
									"if (Array.isArray(responseData.folders) && responseData.folders.length > 0) {",
									"    responseData.folders.forEach((folder, index) => {",
									"        pm.test(`The folder with id ${folder.id} has all required fields with correct datatype`, function () {",
									"            pm.expect(folder).to.have.property('id').that.is.a('string');",
									"            pm.expect(folder).to.have.property('pretty_id').that.is.a('string');",
									"            pm.expect(folder).to.have.property('name').that.is.a('string');",
									"            pm.expect(folder).to.have.property('team_id').that.is.a('string');",
									"            pm.expect(folder).to.have.property('private').that.is.a('boolean');",
									"            pm.expect(folder).to.have.property('date_created').that.is.a('string');",
									"            pm.expect(folder).to.have.property('creator').that.is.a('number');",
									"            pm.expect(folder).to.have.property('goal_count').that.is.a('number');",
									"            pm.expect(folder).to.have.property('members').that.is.an('array');",
									"            pm.expect(folder).to.have.property('goals').that.is.a('array');",
									"         });",
									"    });",
									"} else {",
									"    pm.test('No folders found or folders array is empty', function () {",
									"        pm.expect(responseData.folders).to.be.empty;",
									"    });",
									"}",
									"",
									"",
									"// Перевірка, чи є в масиві завершенні цілі",
									"",
									"function hasCompletedOne(array) {",
									"    return array.some(obj => obj.percent_completed === 1);",
									"}",
									"",
									"",
									"if (hasCompletedOne(responseData.goals)) {",
									"        pm.test('Completed goals are included', function() {",
									"            pm.expect(hasCompletedOne(responseData.goals)).to.be.true;",
									"        });",
									"    } else {",
									"        pm.test('Completed goals are not included or don\\'t exist', function() {",
									"            pm.expect(hasCompletedOne(responseData.goals)).to.be.false;",
									"        });",
									"    }",
									"",
									"",
									"var goals = responseData.goals[0];",
									"pm.collectionVariables.set(\"goal_id_click_up\", goals.id);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "04c66ed0-7d2b-4589-afb6-fd01470042f2",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "6dee7be6-6a9f-423d-b730-65269157cd4c",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{api_click_up}}/v2/team/{{team_id_click_up}}/goal?include_completed=true",
							"host": [
								"{{api_click_up}}"
							],
							"path": [
								"v2",
								"team",
								"{{team_id_click_up}}",
								"goal"
							],
							"query": [
								{
									"key": "include_completed",
									"value": "true"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get goals without completed goals",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "76e84b81-571f-4620-8cb1-15b1b44c6f97",
								"exec": [
									"let responseData = pm.response.json()",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"",
									"pm.test(\"Response have goals and folders as an array\", function(){",
									"    pm.expect(responseData).to.have.property('goals');",
									"    pm.expect(responseData.goals).to.be.an('array');",
									"    pm.expect(responseData).to.have.property('folders');",
									"    pm.expect(responseData.folders).to.be.an('array');",
									"});",
									"",
									"// Перевірка, чи наявні всі поля в відповіді і чи вони мають правильний тип даних",
									"if (Array.isArray(responseData.goals) && responseData.goals.length > 0) {",
									"    responseData.goals.forEach((goal, index) => {",
									"        pm.test(`The goal with id ${goal.id} has all required fields with correct datatype`, function () {",
									"            pm.expect(goal).to.have.property('id').that.is.a('string');",
									"            pm.expect(goal).to.have.property('pretty_id').that.is.a('string');",
									"            pm.expect(goal).to.have.property('name').that.is.a('string');",
									"            pm.expect(goal).to.have.property('team_id').that.is.a('string');",
									"            pm.expect(goal).to.have.property('creator').that.is.a('number');",
									"            pm.expect(goal).to.have.property('owner').that.satisfy(value => typeof value === 'string' || value === null);",
									"            pm.expect(goal).to.have.property('color').that.is.a('string');",
									"            pm.expect(goal).to.have.property('date_created').that.is.a('string');",
									"            pm.expect(goal).to.have.property('start_date').that.satisfy(value => typeof value === 'string' || value === null);",
									"            pm.expect(goal).to.have.property('due_date').that.is.a('string');",
									"            pm.expect(goal).to.have.property('description').that.is.a('string');",
									"            pm.expect(goal).to.have.property('private').that.is.a('boolean');",
									"            pm.expect(goal).to.have.property('archived').that.is.a('boolean');",
									"            pm.expect(goal).to.have.property('multiple_owners').satisfy(value => typeof value === 'boolean' || value === null);",
									"            pm.expect(goal).to.have.property('editor_token').that.is.a('string');",
									"            pm.expect(goal).to.have.property('date_updated').that.is.a('string');",
									"            pm.expect(goal).to.have.property('last_update').that.is.a('string');",
									"            pm.expect(goal).to.have.property('folder_id').that.satisfy(value => typeof value === 'string' || value === null);",
									"            pm.expect(goal).to.have.property('pinned').that.is.a('boolean');",
									"            pm.expect(goal).to.have.property('owners').that.is.an('array');",
									"            pm.expect(goal).to.have.property('key_result_count').that.is.a('number');",
									"            pm.expect(goal).to.have.property('members').that.is.an('array');",
									"            pm.expect(goal).to.have.property('group_members').that.is.an('array');",
									"            pm.expect(goal).to.have.property('percent_completed').that.is.a('number');",
									"         });",
									"    });",
									"} else {",
									"    pm.test('No goals found or goals array is empty', function () {",
									"        pm.expect(responseData.goals).to.be.empty;",
									"    });",
									"}",
									"if (Array.isArray(responseData.folders) && responseData.folders.length > 0) {",
									"    responseData.folders.forEach((folder, index) => {",
									"        pm.test(`The folder with id ${folder.id} has all required fields with correct datatype`, function () {",
									"            pm.expect(folder).to.have.property('id').that.is.a('string');",
									"            pm.expect(folder).to.have.property('pretty_id').that.is.a('string');",
									"            pm.expect(folder).to.have.property('name').that.is.a('string');",
									"            pm.expect(folder).to.have.property('team_id').that.is.a('string');",
									"            pm.expect(folder).to.have.property('private').that.is.a('boolean');",
									"            pm.expect(folder).to.have.property('date_created').that.is.a('string');",
									"            pm.expect(folder).to.have.property('creator').that.is.a('number');",
									"            pm.expect(folder).to.have.property('goal_count').that.is.a('number');",
									"            pm.expect(folder).to.have.property('members').that.is.an('array');",
									"            pm.expect(folder).to.have.property('goals').that.is.a('array');",
									"         });",
									"    });",
									"} else {",
									"    pm.test('No folders found or folders array is empty', function () {",
									"        pm.expect(responseData.folders).to.be.empty;",
									"    });",
									"}",
									"",
									"// Перевірка, на виключення з масиву завершених цілей",
									"function hasCompletedOne(array) {",
									"    return array.some(obj => obj.percent_completed === 0);",
									"}",
									"",
									"if (hasCompletedOne(responseData.goals)) {",
									"        pm.test('Completed goals are not included or don\\'t exist', function() {",
									"            pm.expect(hasCompletedOne(responseData.goals)).to.be.true;",
									"        });",
									"    } else {",
									"        pm.test('Completed goals are included', function() {",
									"            pm.expect(hasCompletedOne(responseData.goals)).to.be.true;",
									"        });",
									"    }",
									"",
									"",
									"var goals = responseData.goals[0];",
									"pm.collectionVariables.set(\"goal_id_click_up\", goals.id);",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "cde47488-e900-478e-a908-8c110dfdad81",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "f6484274-d899-4c0d-ad22-a7f20d73e141",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{api_click_up}}/v2/team/{{team_id_click_up}}/goal?include_completed=false",
							"host": [
								"{{api_click_up}}"
							],
							"path": [
								"v2",
								"team",
								"{{team_id_click_up}}",
								"goal"
							],
							"query": [
								{
									"key": "include_completed",
									"value": "false"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create goal",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "3862619e-0b86-4a18-b8d3-37ff29041a53",
								"exec": [
									"var responseData = pm.response.json();",
									"var goal = responseData.goal;",
									"pm.collectionVariables.set(\"goal_id_click_up\", goal.id);",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"// Перевіряєм чи всі поля наявні і відповідають типу даних який иає бути",
									"",
									"const goalSchema = {",
									"    'id': 'string',",
									"    'pretty_id': 'string',",
									"    'name': 'string',",
									"    'team_id': 'string',",
									"    'creator': 'number',",
									"    'color': 'string',",
									"    'date_created': 'string',",
									"    'start_date': ['string', 'null'],",
									"    'due_date': 'string',",
									"    'description': 'string',",
									"    'private': 'boolean',",
									"    'archived': 'boolean',",
									"    'editor_token': 'string',",
									"    'date_updated': 'string',",
									"    'owners': 'array',",
									"    'key_result_count': 'number',",
									"    'members': 'array',",
									"    'group_members': 'array',",
									"    'percent_completed': 'number',",
									"    'history': 'array',",
									"    'pretty_url': 'string'",
									"};",
									"",
									"function validateFieldType(value, expectedType) {",
									"    if (Array.isArray(expectedType)) {",
									"        return  expectedType.includes(typeof value) ||",
									"               (value === null && expectedType.includes('null'));",
									"    } else {",
									"        return typeof value === expectedType ||",
									"        (expectedType.includes('array') && Array.isArray(value));",
									"                 ",
									"    }",
									"}",
									"",
									"    pm.expect(responseData).to.have.property('goal');",
									"    // Перевірка на наявність кожного поля і відповідності типу даних",
									"    Object.entries(goalSchema).forEach(([field, expectedType]) => {",
									"        pm.test(`Field ${field} is present & datatype is ${expectedType}`, function () {",
									"            pm.expect(goal).to.have.property(field);",
									"            pm.expect(validateFieldType(goal[field], expectedType)).to.be.true",
									"            console.log(goal[field])",
									"        });",
									"    });",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "a8525555-abb0-4141-a69e-d3ee948f1512",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"{{$randomWords}}\",\n    \"due_date\": 1568036964079,\n    \"description\": \"Goal Description\",\n    \"multiple_owners\": false,\n    \"owners\":[],\n    \"color\": \"#32a852\"\n  }",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{api_click_up}}/v2/team/{{team_id_click_up}}/goal",
							"host": [
								"{{api_click_up}}"
							],
							"path": [
								"v2",
								"team",
								"{{team_id_click_up}}",
								"goal"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get goal",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "3b851436-4038-487c-9ea2-113016ca1c93",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"packages": {},
								"type": "text/javascript",
								"id": "870896fa-7efd-4cf4-8418-5782d1dbd661"
							}
						}
					],
					"id": "7e7e488f-1980-40b7-9e43-c56145660079",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{api_click_up}}/v2/goal/{{goal_id_click_up}}",
							"host": [
								"{{api_click_up}}"
							],
							"path": [
								"v2",
								"goal",
								"{{goal_id_click_up}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update goal",
					"id": "6de0a685-9839-4b7a-8645-ddc3f5fda685",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"{{$randomWords}}\",\n    \"due_date\": 1568036964079,\n    \"description\": \"Updated Goal Description\",\n    \"rem_owners\": [\n     \n    ],\n    \"add_owners\": [\n      \n    ],\n    \"color\": \"#32a852\"\n  }",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{api_click_up}}/v2/goal/{{goal_id_click_up}}",
							"host": [
								"{{api_click_up}}"
							],
							"path": [
								"v2",
								"goal",
								"{{goal_id_click_up}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete goal",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "954e4483-0811-431c-8334-7289fc224ba9",
								"exec": [
									"// Присваювати нове значення змінній для колекціїї (якщо ще є цілі)",
									"//var api_click_up = pm.collectionVariables.get(\"api_click_up\")",
									"// var team_id_click_up = pm.collectionVariables.get(\"team_id_click_up\")",
									"// var auth_token_click_up = pm.collectionVariables.get(\"auth_token_click_up\")",
									"// console.log(auth_token_click_up)",
									"// pm.sendRequest({",
									"//     url: `${api_click_up}/v2/team/${pm.collectionVariables.get('team_id_click_up')}/goal?include_completed=true`,",
									"//     method: 'GET',",
									"//     headers: {",
									"//         'Authorization': '${auth_token_click_up}'",
									"//     }",
									"    ",
									"// }, function (err, response) {",
									"//     if (err) {",
									"//         console.error(err);",
									"//         return;",
									"//     }",
									"//     if (response && response.code === 200) {",
									"//         // Розпакування JSON з відповіді",
									"//         var responseData = response.json();",
									"        ",
									"//         // Тут можна зробити що завгодно з отриманими даними",
									"//         console.log(responseData);",
									"        ",
									"//         // Наприклад, зберегти дані у глобальну змінну Postman",
									"//         pm.collectionVariables.set('goal_id_click_up', responseData.goals.id);",
									"//     } else {",
									"//         console.error('Request failed');",
									"//     }",
									"// });"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "40e69f9e-154e-4a02-b3e2-5bb98d4dca1e",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "b0b9f131-fefa-423f-9fbf-6458297fffe7",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{api_click_up}}/v2/goal/{{goal_id_click_up}}",
							"host": [
								"{{api_click_up}}"
							],
							"path": [
								"v2",
								"goal",
								"{{goal_id_click_up}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create key result",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ef12cee-6370-40ba-9cc1-c5aad3ce93aa",
								"exec": [
									"var responceData = pm.response.json();",
									"var keyId = responceData.key_result.id;",
									"pm.collectionVariables.set(\"key_result_id_click_up\", keyId);",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "4f572591-9550-4e34-948f-0422a8a522ac",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"{{$randomWords}}\",\n    \"owners\": [\n    ],\n    \"type\": \"number\",\n    \"steps_start\": 0,\n    \"steps_end\": 1,\n    \"unit\": \"km\",\n    \"task_ids\": [],\n    \"list_ids\": []\n  }",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{api_click_up}}/v2/goal/{{goal_id_click_up}}/key_result",
							"host": [
								"{{api_click_up}}"
							],
							"path": [
								"v2",
								"goal",
								"{{goal_id_click_up}}",
								"key_result"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update key result",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "bc91df62-d00d-422e-855d-a4c71e2cf06d",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "b5d9256c-7244-4734-bffe-11c8736604d9",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"steps_current\": {{$randomAlphaNumeric}},\n    \"note\": \"Target achieved\"\n  }\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{api_click_up}}/v2/key_result/{{key_result_id_click_up}}",
							"host": [
								"{{api_click_up}}"
							],
							"path": [
								"v2",
								"key_result",
								"{{key_result_id_click_up}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete key result",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "17656aef-1653-48df-ba14-d46df37ff795",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"// Перейвірка на видаення",
									"pm.sendRequest(\"https://postman-echo.com/get\", function (err, response) {",
									"    console.log(response.json());",
									"});",
									"var api_click_up = pm.collectionVariables.get(\"api_click_up\")",
									"var team_id_click_up = pm.collectionVariables.get(\"team_id_click_up\")",
									"var auth_token_click_up = pm.collectionVariables.get(\"auth_token_click_up\")",
									"console.log(auth_token_click_up)",
									"pm.sendRequest({",
									"    url: `${api_click_up}/v2/team/${pm.collectionVariables.get('team_id_click_up')}/goal?include_completed=true`,",
									"    method: 'GET',",
									"    headers: {",
									"        'Authorization': '${auth_token_click_up}'",
									"    }",
									"    ",
									"}, function (err, response) {",
									"    if (err) {",
									"        console.error(err);",
									"        return;",
									"    }",
									"    if (response && response.code === 200) {",
									"        // Розпакування JSON з відповіді",
									"        var responseData = response.json();",
									"        ",
									"        // Тут можна зробити що завгодно з отриманими даними",
									"        console.log(responseData);",
									"        ",
									"        // Наприклад, зберегти дані у глобальну змінну Postman",
									"        pm.collectionVariables.set('goal_id_click_up', responseData.goals.id);",
									"    } else {",
									"        console.error('Request failed');",
									"    }",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "f61e8beb-5898-4fac-94a2-ce032b2dfc9a",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{api_click_up}}v2/key_result/{key_result_id}",
							"host": [
								"{{api_click_up}}v2"
							],
							"path": [
								"key_result",
								"{key_result_id}"
							]
						}
					},
					"response": []
				}
			],
			"id": "57f70cc6-b3f2-482a-b82c-5fd94ca38c4c"
		},
		{
			"name": "Negative tests",
			"item": [
				{
					"name": "Get goals with invalid team_id",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "961ccd9b-7476-43a8-b745-bb910ff1660f",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "ec11801c-c432-4e50-b6d0-4000044fee31",
								"exec": [
									"let responceData = pm.response.json()",
									"pm.test(\"Status code is 401\", function () {",
									"    pm.response.to.have.status(401);",
									"});",
									"",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "2e0ff048-bf42-4a1c-a86f-03c5dd11bb2f",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{api_click_up}}/v2/team/{{$randomInt}}/goal?include_completed=true",
							"host": [
								"{{api_click_up}}"
							],
							"path": [
								"v2",
								"team",
								"{{$randomInt}}",
								"goal"
							],
							"query": [
								{
									"key": "include_completed",
									"value": "true"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create a goal with empty name",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "34aa73eb-3ab9-4103-be67-45c68be5df95",
								"exec": [
									"var responseData = pm.response.json();",
									"var goal = responseData.goal;",
									"",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(400);",
									"});",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "f6a80c0e-cdbe-42cd-ad37-2d60fda737c3",
								"exec": [
									"// Перевірка на відправку з пустим полем, змінюєм в тілі значення name на null",
									"var request = pm.request;",
									"var requestBody = JSON.parse(request.body.raw);",
									"requestBody.name = null; ",
									"pm.request.body.raw = JSON.stringify(requestBody);",
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "92a34bef-6387-413b-99d8-2d4c99098273",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"{{$randomWords}}\",\n    \"due_date\": 1568036964079,\n    \"description\": \"Goal Description\",\n    \"multiple_owners\": false,\n    \"owners\":[],\n    \"color\": \"#32a852\"\n  }",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{api_click_up}}/v2/team/{{team_id_click_up}}/goal",
							"host": [
								"{{api_click_up}}"
							],
							"path": [
								"v2",
								"team",
								"{{team_id_click_up}}",
								"goal"
							]
						}
					},
					"response": []
				}
			],
			"id": "080e2789-9487-4a7c-9397-82bbfdd31fdf"
		}
	],
	"auth": {
		"type": "apikey",
		"apikey": [
			{
				"key": "key",
				"value": "Authorization",
				"type": "string"
			},
			{
				"key": "value",
				"value": "{{auth_token_click_up}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "81345841-1b23-4fde-9821-cef848704bdc",
				"type": "text/javascript",
				"packages": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "9b63cde9-4170-436e-abd9-c8f22686ced3",
				"type": "text/javascript",
				"packages": {},
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"id": "c810c0c1-3bf6-4b74-bf21-81797220b7b4",
			"key": "api_click_up",
			"value": "https://api.clickup.com/api"
		},
		{
			"id": "96457033-e33e-4ee2-883a-8f22b7f5d488",
			"key": "auth_token_click_up",
			"value": "pk_42579647_2H7TDWT119Q33WDAO3HU966JMNKD5J7C"
		},
		{
			"id": "50a2510d-1f77-467b-9029-7a89ef38f536",
			"key": "team_id_click_up",
			"value": "9015713790",
			"type": "string"
		},
		{
			"id": "2e26a71d-3055-476e-af28-2b54e348c65c",
			"key": "key_result_id_click_up",
			"value": "e4b6f4a3-489d-4505-b44d-64321e8d44be",
			"type": "string"
		},
		{
			"id": "faa0dcc2-5161-4750-a71e-318845268a9f",
			"key": "goal_id_click_up",
			"value": "a32b0385-b5b3-4299-a442-7d36a8616ee3",
			"type": "string"
		},
		{
			"id": "c0a42fdb-a010-4488-b041-623e915cbc16",
			"key": "team_id_invalid",
			"value": ""
		},
		{
			"id": "6c32470b-bc37-4c99-9601-c3303935304d",
			"key": "variable_key",
			"value": ""
		}
	]
}